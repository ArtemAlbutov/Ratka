<!DOCTYPE html>
<html>
<head>
    <title>RAT Control</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: Arial; padding: 20px; background: #f0f0f0; }
        button { width: 100%; padding: 15px; margin: 5px 0; background: #0088cc; color: white; border: none; border-radius: 10px; font-size: 16px; }
        .output { background: white; padding: 15px; border-radius: 10px; margin-top: 20px; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h2>ü§ñ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
    
    <button onclick="sendCmd('info')">üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</button>
    <button onclick="sendCmd('screen')">üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç</button>
    <button onclick="sendCmd('processes')">üìã –ü—Ä–æ—Ü–µ—Å—Å—ã</button>
    
    <div id="output" class="output">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É</div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        // –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∑–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        window.onload = function() {
            const saved = localStorage.getItem('lastData');
            if (saved) {
                document.getElementById('output').innerText = saved;
            }
        }
        
        function sendCmd(cmd) {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É
            localStorage.setItem('lastCmd', cmd);
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º
            tg.sendData(cmd);
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º (—ç—Ç–æ –Ω–æ—Ä–º–∞)
            tg.close();
        }
    </script>
</body>
</html>
